<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chi tiết vé xe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- Thư viện alert đẹp -->
</head>
<body>
<h1 style="text-align: center; margin-bottom: 20px">Vé xe chi tiết</h1>
<form th:action="@{/updateVeXe}" th:object="${newVX}" method="post">
    <input type="hidden" name="id" th:field="*{id}">
    <input type="hidden" name="ngayDangKy" th:field="*{ngayDangKy}">
    <input type="hidden" name="donGia" th:field="*{donGia}">
    <div class="veXe_top">
        <div class="veXe_left">
            <div class="mb-3">
                <label class="form-label">Mã vé xe: </label>
                <input type="text" name="maVe" th:field="*{maVe}" class="form-control" placeholder="Nhập mã vé xe!"><br>
                <i style="color: red" th:errors="*{maVe}"></i>
            </div>
            <div class="mb-3">
                <label class="form-label">Tên loại vé: </label>
                <select name="idLoaiVe" th:field="*{idLoaiVe}" class="form-control">
                    <option value="">--Chọn loại vé xe--</option>
                    <option th:each="loaiVe:${listLoaiVe}" th:value="${loaiVe.id}" th:text="${loaiVe.tenLoaiVe}"></option>
                </select><br>
                <i style="color: red" th:errors="*{idLoaiVe}"></i>
            </div>
            <div class="mb-3">
                <label class="form-label">Tên khách hàng: </label>
                <input type="text" name="tenKH" th:field="*{tenKH}" placeholder="Nhập tên khách hàng!" class="form-control"><br>
                <i style="color: red" th:errors="*{tenKH}"></i>
            </div>
        </div>
        <div class="veXe_between">
            <div class="mb-3">
                <label class="form-label">Biển số xe: </label>
                <input type="text" name="bienSoXe" th:field="*{bienSoXe}" class="form-control" placeholder="Nhập biển số xe!">
                <br>
                <i style="color: red" th:errors="*{bienSoXe}"></i>
            </div>
            <div class="mb-3">
                <label class="form-label">Loại xe: </label>
                <select name="loaiPT" th:field="*{loaiPT}" class="form-control">
                    <option value="">--Chọn loại xe--</option>
                    <option th:each="lpt:${listLoaiPT}" th:value="${lpt.id}" th:text="${lpt.tenPT}"></option>
                </select><br>
                <i style="color: red" th:errors="*{loaiPT}"></i>
            </div>
            <div class="mb-3">
                <label class="form-label">Trạng thái vé: </label>
                <select name="trangThaiVe" th:field="*{trangThaiVe}" class="form-control">
                    <option value="Còn hạn">Còn hạn</option>
                    <option value="Còn hạn">Hết hạn</option>
                </select>
            </div>
        </div>
        <div class="veXe_right">
            <div class="mb-3">
                <label class="form-label">Ngày hết hạn: </label>
                <input type="date" name="ngayHetHan" th:value="*{ngayHetHan}" class="form-control" placeholder="Nhập ngày hết hạn!"><br>
                <i style="color: red" th:errors="*{ngayHetHan}"></i>
            </div>
            <div class="mb-3">
                <label class="form-label">Tên khu vực: </label>
                <select name="idQlBai" th:field="*{idQlBai}" class="form-control">
                    <option value="">--Chọn khu vực--</option>
                    <option th:each="BX:${listQLBX}" th:value="${BX.id}" th:text="${BX.idBaiXe.tenKhuVuc}"></option>
                </select><br>
                <i style="color: red" th:errors="*{idQlBai}"></i>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-success" style="width: 40%; margin-left: 30%; margin-top: 30px">Cập nhật vé xe</button>
</form>

<script th:inline="javascript">
    let message = /*[[${message}]]*/ null;
    if (message !== null) {
        Swal.fire({
            title: 'Thông báo',
            text: message,
            icon: 'error',
            confirmButtonText: 'OK',
            position: 'top'
        });
    }

    let type = /*[[${type}]]*/ null;
    if (type !== null) {
        Swal.fire({
            title: 'Thông báo',
            text: type,
            icon: 'success',
            confirmButtonText: 'OK',
            position: 'top'
        });
    }
</script>
</body>
</html>
<style>
    body{
        padding-top: 50px;
    }
    form{
        height: 80%;
        width: 60%;
        margin-left: 20%;
        margin-bottom: 30px;
    }
    .veXe_top {
        height: 80%;
        width: 100%;
        display: flex;
        justify-content: space-around;
    }
    .veXe_left{
        height: 100%;
        width: 32%;
    }
    .veXe_right{
        height: 100%;
        width: 32%;
    }
    .veXe_between{
        height: 100%;
        width: 32%;
    }
</style>